<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dungeon Crawler</title>
    <link href="https://unpkg.com/nes.css@2.3.0/css/nes.min.css" rel="stylesheet" />
    <link href="styles.css" rel="stylesheet" />
</head>

<body>
    <div class="bodyLeft">
        <div>
            <img style="width: 100%;" id="npcImage" alt="Image of npc">
        </div>
    </div>
    <div class="bodyMid">
        <div class="dialog-container nes-container" id="dialogContainer">
        </div>
        <div class="options-container nes-container" id="optionsContainer">
        </div>
    </div>
    <div class="bodyRight">
        <div class="nes-container with-title" id="inventoryContainer">
            <p class="title">Inventory</p>
        </div>
        <div class="nes-container with-title health">
            <p class="title">Health</p>
            <div class="health-icons">
            </div>
        </div>
        <i class="nes-octocat animate"></i>
        <a style="align-self: flex-end; justify-self: bottom;" href="https://github.com/ragnargulin/Simple-game"
            target="_blank" class="nes-badge">
            <span class="is-dark">Github</span>
        </a>
        <button class="nes-btn is-primary" onclick="openDoor()">Open Door</button>
    </div>

    <div id="doorModal" class="nes-dialog is-rounded is-dark"
        style="display: none; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);">
        <h2 class="title">You've collected five items!</h2>
        <p>You are now ready to open the door and face the next challenge.</p>
        <button class="nes-btn is-primary" onclick="openDoor()">Open Door</button>
    </div>
    <div id="fadeScreen"></div>

    <script src="typeWriter.js"></script>
    <script src="inventory.js"></script>
    <script src="dialogs.js"></script>
    <script src="doorStuff.js"></script>

    <script>
        let inventory = [];
        let health = 100;
        let enemyHealth = 100;
        let npc = "assets/oldMan.jpg";
        let currentDialogueIndex = 0;
        let isInCombat = false;
        document.getElementById("npcImage").src = npc;

        document.addEventListener("DOMContentLoaded", async () => {
            populateItemOptions();
            populateFightOptions();
            updateHealthIcons(health);
            updateInventoryDisplay(inventory);
            addDialogueBubble(dialogues[0].text, true);
            showOptions(dialogues[0].options);
        });

    </script>
</body>

</html>